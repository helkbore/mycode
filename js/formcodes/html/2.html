<html>

<meta charset="utf-8" />
<title>验证用户输入</title>
<body>
<input type="text" id="test_input" />
<button id="do_test_button">验证</button>


<script>
(function(){
    var f_input = document.getElementById('test_input');
    var f_button = document.getElementById('do_test_button');

    // 正则去除空白符
    function doFilter() {
        alert(111);
        var pattern = "/^(s|\u00a0)+|(s|\u00a0)+$/";
        f_input.value = f_input.value.replace(/^(\s|\u00a0)+|(\s|\u00a0)+$/g, "");
    }
    
    // 验证是否为空
    // 第一种更简洁, 性能更好
    function isContent(chars) {
        return !chars ? true : false;   // 第一种写法
        return chars.length == 0? true : false; // 第二种写法
    }
    
    function doValNull() {
        if (!f_input.value.replace(/^(\s|\u00a0)+|(\s|\u00a0)+$/g, "")) {
            alert('is empty');
        } else {
            alert('not empty');
        }
    }

    // 事件监听
    if(f_button.addEventListener) {
        f_button.addEventListener('click', doValNull, false);
    } else if (f_button.attachEvent) {
        f_button.attachEvent('onclick', doValNull);
    }
})();

</script>
</body>
<html>