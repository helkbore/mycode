<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>锦州华光电子管有限公司</title>

    <!-- 公共引用 -->
    <link rel="stylesheet" type="text/css"  href="css/reset.css?v=1.0"/>
    <!-- 公共引用 -->
    <link rel="stylesheet" type="text/css"  href="css/main.css?v=1.0"/>
    <!-- 图标库 -->
    <link rel="stylesheet" type="text/css"  href="css/font-awesome.min.css"/>
    <!-- 键盘 -->
    <link rel="stylesheet" type="text/css" href="css/keyboard.css" />
    <!-- 公共引用 -->
    <script type="text/javascript" src="js/jquery-1.11.0.min.js" ></script>
    <!-- 公共引用 -->
    <script type="text/javascript" src="js/main.js" ></script>




    <style>

        /* 左边 */
        .outer {
            width:720px;
            height:611px;
            border-radius: 0 20px 20px 0;
            background:#eceaea;
            margin-top: 70px;
            z-index: 10;
        }

        .center {
            z-index: 10;
        }

        /* 标题 */
        .title {padding-top: 46px; }
        .title p { color: #333;}
        .zh-info {
            font-size: 30px;
            display: inline-block;
            margin-left: 22px;

        }
        .en-info {
            font-size: 14px;
            display: inline-block;
            position: relative;
            bottom: -4px;
            left: -5px;
        }

        /* 中间内容区 */
        .content {
            margin-left: 22px;
            background: url("images/background.jpg");
            width: 670px;
            height: 460px;
            display: flex;
            flex-direction: column;
            background-color: #0f5b97;

        }

        .content-title {
            padding: 5px 30px;
            background: rgba(255, 255, 255, 0.3);
            margin-top: 15px;
            color: #fff;
        }

        .content-title i {
            margin-right: 10px;
        }

        .list-ul {
            display: flex;
            flex-direction: column;
            align-content: space-between;
            padding: 0 40px 30px;
        }
        .list-item {
            display: flex;
            flex-direction: row;
            justify-content: space-around;
            border-bottom: 1px #fff dashed;

        }

        .list-item span {
            height: 65px;
            line-height: 65px;
        }
        .list-item-no {
            margin-left: 20px;
            font-family: listNumber;
            width: 100px;
        }
        .list-item-title {
            width: 250px;
        }
        .list-item-btn {
            width: 100px;
        }
        .list-item-btn img {
            height: 65px;
        }

        /* 分页样式 */
        .page-list {
            display: flex;
            justify-content: center;
            margin-top: 10px;
            font-size: 9px;
        }
        .page-list a {
            color: #666;
            font-size: 9px;
        }

        .page-item {
            box-shadow: -1px -1px 1px #aaa;
            border: 1px solid #aaa;
            background: #eceaea;
            border-radius: 9px;
            padding: 10px 20px;
            margin: 0 5px;
        }
        .footer {
            /*margin-top: 51px;*/
            margin-left: -300px;
            background: url('images/footer2.png') ;
            background-size:cover;
            height: 87px;
            line-height: 83px;
            width: 1024px;
            font-size: 15px;
        }

        .banquan {
            margin-left: 323px;

        }

        .zhichi {
            margin-left: 40px;
        }


        /* 右侧 */
        .right {
            position: relative;
            width: 300px;
        }

        /* 信息框 */
        .right-info {
            margin: 10px;
            background: rgba(0, 0, 0, 0.3);
            padding: 13px 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            /*align-content: flex-start;*/
            align-items: center;
            margin-bottom: 1px;
            margin-right: 28px;

        }

        .member-info span{
            padding: 10px;
            line-height: 33px;

        }


        .info-data {
            width: 100px;
        }

        /* 右下菜单 */
        .right-menu {
            background: url("images/bk.png") no-repeat;
            background-position-x: -20px;
            height: 530px;
            width: 300px;
            background-size: 300px 530px;

            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            align-content: center;
            /*padding: 10px;*/
            /*display: flex;*/
            /*flex-direction: column;*/
            /*justify-content: center;*/
            /*align-items: center;*/
            /*align-content: center;*/

            /*position: absolute;*/
            /*right: 25px;*/

            /*margin-right: 25px;*/
            /*-webkit-background-size: auto;*/
            /*background-size: contain;*/
        }

        .right-menu-up, .right-menu-down {
            background: #eceaea;
            /*width: 100%;*/
            color: #666;
            display: flex;
            justify-content: center;
            padding: 5px;
            width: 230px;
            margin-left: -19px;
            box-shadow: 2px 2px 3px #000;

        }

        .right-menu-up {
            /*border-top-right-radius: 10px;*/
            /*border-top-left-radius: 10px;*/
            /*border-bottom-right-radius: 3px;*/
            /*border-bottom-left-radius: 3px;*/
            border-radius: 10px 10px 3px 3px;
            margin-top: -16px;
            margin-bottom: 5px;
        }

        .right-menu-down {
            border-radius: 3px 3px 10px 10px;
        }

        .right-menu-item {
            height: 63px;
            background: #eed7d2;
            color: #666;
            line-height: 63px;
            margin-bottom: 5px;
            width: 230px;
            margin-left: -19px;
            border-radius: 5px;
            display: flex;
            justify-content: center;
            box-shadow: 2px 2px 3px #000;
            background: linear-gradient(180deg, #eed7d2 50%, rgb(225, 168, 157));


        }

        .right-menu-item a {
            color: #666;
            line-height: 63px;
            height: 63px;
        }

        .right-menu-item.active a {
            color: #fff;
            /*background-color: #1b5480;*/
        }

        .right-menu .right-menu-item.active {
            /*background-color: #1b5480;*/
            box-shadow: -1px -1px 3px  #fff;
            width: 230px;
            background: linear-gradient(180deg, #1b5480 50%, rgb(18, 58, 88));
        }


    </style>
</head>
<body>
<div class="main">
    <div class="left">
        <div class="outer">
            <div class="title">
                <p class="zh-info">列表大标题测试文字</p>
                <p class="en-info">INTELLIGENT MANAGEMENT AND CONTROL SYSTEM</p>
            </div>
            <div class="content">

                <div class="content-title"><i class="fa fa-calculator" aria-hidden="true"></i>任务完成情况列表</div>
                <ul class="list-ul">
                    <li class="list-item">
                        <span class="list-item-no">1</span>
                        <span class="list-item-title">任务名称的标题的测试文字</span>
                        <span class="list-item-btn"><a href=""><img src="images/an.png" /></a></span>

                    </li>

                    <li class="list-item">
                        <span class="list-item-no">2</span>
                        <span class="list-item-title">任务名称的标题的测试文字</span>
                        <span class="list-item-btn"><a href=""><img src="images/an.png" /></a></span>

                    </li>

                    <li class="list-item">
                        <span class="list-item-no">3</span>
                        <span class="list-item-title">任务名称的标题的测试文字</span>
                        <span class="list-item-btn"><a href=""><img src="images/an.png" /></a></span>

                    </li>

                    <li class="list-item">
                        <span class="list-item-no">4</span>
                        <span class="list-item-title">任务名称的标题的测试文字</span>
                        <span class="list-item-btn"><a href=""><img src="images/an.png" /></a></span>

                    </li>

                    <li class="list-item">
                        <span class="list-item-no">5</span>
                        <span class="list-item-title">任务名称的标题的测试文字</span>
                        <span class="list-item-btn"><a href=""><img src="images/an.png" /></a></span>

                    </li>

                    <li class="list-item">
                        <span class="list-item-no">6</span>
                        <span class="list-item-title">任务名称的标题的测试文字</span>
                        <span class="list-item-btn"><a href=""><img src="images/an.png" /></a></span>

                    </li>

                    <li class="list-item">
                        <span class="list-item-no">7</span>
                        <span class="list-item-title">任务名称的标题的测试文字</span>
                        <span class="list-item-btn"><a href=""><img src="images/an.png" /></a></span>

                    </li>
                </ul>

            </div>

            <ul class="page-list">
                <li class="page-item"><a href="">FIRST</a></li>
                <li class="page-item"><a href=""><i class="fa fa-backward" aria-hidden="true"></i></a></li>
                <li class="page-item"><a href=""><i class="fa fa-forward" aria-hidden="true"></i></a></li>
                <li class="page-item"><a href="">LAST</a></li>

            </ul>
        </div>

        <div class="footer">
            <p class="banquan">锦州华光电子管有限公司 · 版权所有 Copyright 2018 <span class="zhichi">技术支持: 辽宁维森信息技术股份有限公司</span></p>

        </div>
    </div>
    <div class="right">
        <div class="right-info">
            <ul class="member-info">
                <li class="member-info-item">
                    <span class="info-title">姓名</span>
                    <span class="info-data">李大四</span>
                </li>
                <li class="member-info-item">
                    <span class="info-title">岗位</span>
                    <span class="info-data">测试</span>
                </li>
                <li class="member-info-item">
                    <span class="info-title">部门</span>
                    <span class="info-data">测试部门</span>
                </li>
            </ul>
            <a href=""><img src="images/zx.png" /></a>
        </div>

        <div class="right-menu" id="menu">
            <div class="right-menu-up" id="menu_up"><i class="fa fa-caret-up" aria-hidden="true"></i></div>
            <ul id="dynamic_menu">
                <li class="right-menu-item">
                    <a href="right-menu-item-link">
                        工位登记
                    </a>
                </li>

                <li class="right-menu-item active" id="test">
                    <a href="right-menu-item-link">
                        加工填报
                    </a>
                </li>

                <li class="right-menu-item">
                    <a href="right-menu-item-link">
                        领取材料
                    </a>
                </li>

                <li class="right-menu-item">
                    <a href="right-menu-item-link">
                        排产计划
                    </a>
                </li>

                <li class="right-menu-item">
                    <a href="right-menu-item-link">
                        返工产品
                    </a>
                </li>

                <li class="right-menu-item">
                    <a href="right-menu-item-link">
                        生产统计表
                    </a>
                </li>

                <li class="right-menu-item">
                    <a href="right-menu-item-link">
                        工序档案
                    </a>
                </li>

                <li class="right-menu-item">
                    <a href="right-menu-item-link">
                        工具流程图
                    </a>
                </li>






            </ul>
            <div id="menu_down" class="right-menu-down"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
        </div>

    </div>
</div>

<script>
var menus = document.querySelectorAll(".right-menu-item");
var index = 0;
var menu_show_length = 6;
var menu_up = document.getElementById("menu_up");
var menu_down = document.getElementById("menu_down");

initMenu();
menu_up.onclick = function(e) {
    index --;
    setIndex();
    initMenu();

}

menu_down.onclick = function(e) {
    index ++;
    setIndex();
    initMenu();

}

function initMenu() {
    var _menu = document.getElementById("dynamic_menu");
    cleanChildren(_menu);
    addMenuNode();
}

function setIndex () {
    if (index >= menus.length ) {
        index = index - menus.length;
    }

    if (index < 0) {
        index = index + menus.length;
    }
}
function addMenuNode () {
    var _menu = document.getElementById("dynamic_menu");
    for (var i = 0; i < menu_show_length; i++) {
        page_index = index + i;
        if (page_index >= menus.length) {
            page_index = page_index - menus.length;
        }

        if (page_index < 0) {
            page_index = page_index + menus.length;
        }
        _menu.appendChild(menus[page_index]);
    }
}

// 清除子节点
function cleanChildren(element) {

    node_length = element.childNodes.length;
    for(var i=0; i<node_length; i++)
    {
        var node = element.childNodes[0];
        node.parentNode.removeChild(node);
    }
}

// 触摸屏滑动(待测试)
var startx, starty;
var menu_top = document.getElementById('menu');
menu_top.addEventListener('touchstart', function(e){
    startx = e.touches[0].pageX;
    starty = e.touches[0].pageY;
}, false);
menu_top.addEventListener('touchend', function(e){
    var endx, endy;
    endx = e.changedTouches[0].pageX;
    endy = e.changedTouches[0].pageY;

    var direction = getDirection(startx, starty, endx, endy);
    switch (direction) {
        case 0:
            // alert('为滑动')
            break;
        case 1:
            // alert('up')
            index --;
            setIndex();
            initMenu();
            break;
        case 2:
            // alert('down')
            index ++;
            setIndex();
            initMenu();
            break;
        case 3:
            // alert('left')
            break;
        case 4:
            // alert('down')
            break;
    }
}, false);

// 判断滑动方向
function getDirection(sx, sy, ex, ey) {
    var angx = ex - sx;
    var angy = ey - sy;
    var result = 0;

    // 滑动距离太短
    if (Math.abs(angx) < 2 && Math.abs(angy) < 2) {
        return result;
    }

    var angle = getAngle(angx, angy);

    if (angle >= -135 && angle <= -45) {
        result = 1;
    }

    if (angle > 45 && angle < 135) {
        result = 2;
    }

    if ((angle >=135 && angle <= 180) || (angle >= -180 && angle < -135) ) {
        result = 3;
    }

    if (angle >= -45 && angle <= 45) {
        result = 4;
    }

    return result;


}

// 获取角度
function getAngle(angx, angy) {
    return Math.atan2(angy, angx) * 180 / Math.PI;
}
</script>
</body>
</html>